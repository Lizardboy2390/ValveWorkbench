<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ValveWorkbench: Arduino Mega/AnalyserValve/AnalyserValve.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ValveWorkbench<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">A QT application for analysing and modelling valves and common valve circuits</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">AnalyserValve.h</div></div>
</div><!--header-->
<div class="contents">
<a href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a81650d0bda3a3cafd8f5f990ba982450">    1</a></span><span class="preprocessor">#define DIODE_MODE 1</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a4c892b3b4d065c8d51745d90dce33afd">    2</a></span><span class="preprocessor">#define TRIODE_MODE 2</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a14e19b9ba60d914f24f9e663b8466aa2">    3</a></span><span class="preprocessor">#define PENTODE_MODE 3</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#ad67b75c57773d6734c33a9cf00f8c232">    4</a></span><span class="preprocessor">#define MIN_HV_INCREMENT 5 </span><span class="comment">//Minimum increment between each high-voltage datapoint in a sweep, in volts</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span> </div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a3fa2d3bf1901157f734a584d47b25d8b">    6</a></span><span class="preprocessor">#define MASTER 1            </span><span class="comment">//For when hardware ID pin is high</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#ae342da5a4630c191c1c983958808edd8">    7</a></span><span class="preprocessor">#define SLAVE 0             </span><span class="comment">//For when hardware ID pin is low</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span> </div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#aac31c820bc8b0d0e9c892ae128e01e94">    9</a></span><span class="preprocessor">#define MASTER_ADDR 0x0A      </span><span class="comment">//I2C Address of the MASTER Arduino</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a5ac6094b45fdc3c394b2c6170e4fb15f">   10</a></span><span class="preprocessor">#define SLAVE_ADDR 0x0B       </span><span class="comment">//I2C Address of the SLAVE Arduino</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a6387a34a40eaf5aad767cbd7a73b05a5">   11</a></span><span class="preprocessor">#define DAC1_ADDR 0x60  </span><span class="comment">//I2C Address of one MCP4725, by default pin A0 is pulled to GND.</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a8cd1c9ac0cc0df59247d241280c34b0e">   12</a></span><span class="preprocessor">#define DAC2_ADDR 0x61   </span><span class="comment">//I2C Address of other MCP4725; its pin A0 must be pulled HIGH to make address 0x61 (also remove pull-up resistors). Note that the breakout board uses the MCP4725A0.</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">//NB: I2C can send 32 ints per transmission.</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span> </div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="comment">//#define WIZARD_MODE</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span> </div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a80bdcca226423a38a8ad168f5b6d572b">   17</a></span><span class="preprocessor">#define HARDWARE_ID_PIN 12   </span><span class="comment">//High for master, low for slave</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#ae0bec88b98c225b9c502109a7f6f540d">   18</a></span><span class="preprocessor">#define VH_PIN A2            </span><span class="comment">//Heater-voltage sense from buck regulator</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a236a856ee8f9251d876fffe0b935bbac">   19</a></span><span class="preprocessor">#define IH_PIN A3            </span><span class="comment">//Heater-current sense from buck regulator</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#af5a48adc9d939102a42f2829b7a1b8ac">   20</a></span><span class="preprocessor">#define PWM_PIN 6            </span><span class="comment">//PWM drive signal to buck regulator MOSFET</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="comment">//#define CHARGE1_PIN 8        //Drive to high-voltage charge MOSFET</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a945fd71801d5e9ee891aceb76f6e9304">   22</a></span><span class="preprocessor">#define CHARGE1_PIN 9        </span><span class="comment">//Drive to high-voltage charge MOSFET - moved to pin D9 in order to enable PWM</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a03a9154b5cd59eb2aa539ead902bd5eb">   23</a></span><span class="preprocessor">#define DISCHARGE1_PIN 11    </span><span class="comment">//Drive to high-voltage discharge MOSFET </span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a15793bbb93c58a8bdab96017ba8cfe5f">   24</a></span><span class="preprocessor">#define FIRE1_PIN 7          </span><span class="comment">//Drive to &#39;apply high voltage&#39; MOSFET </span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a8e5d8e8c3a327cf84ef72ce875bd30bb">   25</a></span><span class="preprocessor">#define VA1_PIN A6           </span><span class="comment">//High voltage sense 1</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a0e53b8a82aec6ee9f71ce202d7ec98af">   26</a></span><span class="preprocessor">#define VA2_PIN A7           </span><span class="comment">//High voltage sense 2</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#aa1c1d8697139607249784be6ee0110a9">   27</a></span><span class="preprocessor">#define IA1_HI_PIN A1        </span><span class="comment">//Small anode-current sense (large sense resistance) </span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a565f5d76334a4fdce472775d6d3b987b">   28</a></span><span class="preprocessor">#define IA1_LO_PIN A0        </span><span class="comment">//Large anode-current sense (small sense resistance)</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a5960b4d1514b1b1f2f4edf76e3cf7bb2">   29</a></span><span class="preprocessor">#define IA2_HI_PIN A3        </span><span class="comment">//Small anode-current sense (large sense resistance) </span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a65b20a450a3ecef0838631540140659f">   30</a></span><span class="preprocessor">#define IA2_LO_PIN A2        </span><span class="comment">//Large anode-current sense (small sense resistance)</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a6372b424e1c966900c0c12c354d61067">   31</a></span><span class="preprocessor">#define DISCHARGE2_PIN 4</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a4ac83ee551c2116ef75cde0d026d9302">   32</a></span><span class="preprocessor">#define FIRE2_PIN 2</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a0ef183ce7a4017b4c3559822dee719fd">   33</a></span><span class="preprocessor">#define CHARGE2_PIN 3       </span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a00c55bbbef508cff976010f856d0bc1c">   34</a></span><span class="preprocessor">#define LV_DETECT_PIN 9  </span><span class="comment">//Pin to detect if heater power supply is present</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span> </div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a2dcc4653d570b88dd786af4234083a57">   36</a></span><span class="preprocessor">#define ARRAY_LENGTH 10         </span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span> </div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="comment">//INDICES FOR BOTH ARRAYS</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#ac31fb559eebde8ea35b9f6b97fa4a91e">   39</a></span><span class="preprocessor">#define VH       0   </span><span class="comment">//Heater voltage  [example: 12.6V = adc391   6.3V = adc195] </span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a46b06050272e9d90534e5637f690247a">   40</a></span><span class="preprocessor">#define IH       1   </span><span class="comment">//Heater current</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#aa5712e10aa6622e4a94012a77cdd5331">   41</a></span><span class="preprocessor">#define VG1      2   </span><span class="comment">//Grid voltage 1  [example: 1V = dac60, 10V=dac605, 20V=dac1210, 30V=dac1815, 40V=dac2420, 50V=dac3020]</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a15e8e931da362b507fd6ad9216da76f7">   42</a></span><span class="preprocessor">#define HV1      3   </span><span class="comment">//Anode voltage 1 [example: 600V=3.97V=adc992   300V=1.98V=adc496    200V=0.76V=330   100V=0.381V=V=adc165]</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a0e1ac8342a355128135cabe881722a5f">   43</a></span><span class="preprocessor">#define IA_HI_1  4   </span><span class="comment">//Anode current hi 1</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#ad530fdf85ec0fcffd47cbeb59dc2bfe6">   44</a></span><span class="preprocessor">#define IA_LO_1  5   </span><span class="comment">//Anode current lo 1</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a0b208a10a35ec0c35867dc3805ca534e">   45</a></span><span class="preprocessor">#define VG2      6   </span><span class="comment">//Grid voltage 2</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a8cba8fce0b767fd563a77ea7b748f949">   46</a></span><span class="preprocessor">#define HV2      7   </span><span class="comment">//Anode voltage 2</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a80eb4e0fe8cb7356a66fe70011dd2b6a">   47</a></span><span class="preprocessor">#define IA_HI_2  8   </span><span class="comment">//Anode current hi 2</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#ab2540ab00bc4796f29a0d3459ca210e2">   48</a></span><span class="preprocessor">#define IA_LO_2  9   </span><span class="comment">//Anode current lo 2</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span> </div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#adb40967b5d2decc33bc0b192ef26ce18">   50</a></span><span class="preprocessor">#define HT_TIMEOUT 64000</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a12642b2cca4a2c07413b2e47825b520a">   51</a></span><span class="preprocessor">#define CHARGING_SPEED 32</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a801fd8c101d402ffd9cce4f278a2e3d6">   52</a></span><span class="preprocessor">#define HV_DUTY_MIN 56 </span><span class="comment">// Don&#39;t set too low or pentode tests will struggle</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a4679d8ea8690999a6c6c7c0cb245c879">   53</a></span><span class="preprocessor">#define THRESHOLD 600 </span><span class="comment">// 600 corresponds to around 360v - once over this we start increasing the duty cycle from min value</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a364e9d2c0c790f5b8044e91db05af474">   54</a></span><span class="preprocessor">#define OVERVOLTAGE 5 </span><span class="comment">// Plan to overshoot HV a tad to account for leakage (we aim for this value and measure if we&#39;re within twice this)</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span> </div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span><span class="comment">/************************************************************   </span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span><span class="comment">*FUNCTION PROTOTYPES</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span><span class="comment">************************************************************/</span></div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#aae174dce18f58c1973c974c927e63e6b">   59</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#aae174dce18f58c1973c974c927e63e6b">flushSerialBuffer</a>();</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#ad79f625cfb01f96a36c2b7842f4b1b94">   60</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#ad79f625cfb01f96a36c2b7842f4b1b94">infoCommand</a>(<span class="keywordtype">int</span> index);</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a6d40a4086c06d9eca9705c248b5f1c36">   61</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a6d40a4086c06d9eca9705c248b5f1c36">modeCommand</a>(<span class="keywordtype">int</span> index);</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a35b4fa796f530157f7c3615a347844c4">   62</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a35b4fa796f530157f7c3615a347844c4">getCommand</a>(<span class="keywordtype">int</span> index);</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#aa9530acf7bd8b0a7be8b4f9cf3eff7ac">   63</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#aa9530acf7bd8b0a7be8b4f9cf3eff7ac">setCommand</a>(<span class="keywordtype">int</span> index, <span class="keywordtype">int</span> intParam);</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#abb34940407bc3c50af25349bbbbe8904">   64</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#abb34940407bc3c50af25349bbbbe8904">commandError</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *command);</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#af95922b1680b16545332b598504b40bf">   65</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#af95922b1680b16545332b598504b40bf">printValues</a>();</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span> </div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#ad53375aecf0288795d5e2d9e8aebeea8">   67</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#ad53375aecf0288795d5e2d9e8aebeea8">sendToSlave</a>();</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a830c9acba92f5c46874aa86fdfaa693a">   68</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a830c9acba92f5c46874aa86fdfaa693a">masterReceiveData</a>(<span class="keywordtype">int</span> howMany);</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a3e2b845b397b12d6d11191ffda1b25eb">   69</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a3e2b845b397b12d6d11191ffda1b25eb">requestFromSlave</a>();</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#ad0562255ef7ded5d69ec86dff27566a8">   70</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#ad0562255ef7ded5d69ec86dff27566a8">slaveReceiveData</a>(<span class="keywordtype">int</span> howMany);</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#aa29031f30c4afb3356ae9d3eec2e7599">   71</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#aa29031f30c4afb3356ae9d3eec2e7599">slaveAnswerRequest</a>();</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span> </div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a83fa9710c9b156b8df28abb74fb30f9c">   73</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a83fa9710c9b156b8df28abb74fb30f9c">runTest</a>();</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a6840cbef866f53f2338917342093a6e3">   74</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a6840cbef866f53f2338917342093a6e3">setHeaterVolts</a>();</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a6fe19a81427930029deacf7ddbbca1f5">   75</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a6fe19a81427930029deacf7ddbbca1f5">setGridVolts</a>();</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a4722f22644864b07751f6e89c733b980">   76</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a4722f22644864b07751f6e89c733b980">chargeHighVoltages</a>();</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#abe029e9eb34170940f3d941843ba5258">   77</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#abe029e9eb34170940f3d941843ba5258">checkAnodeVoltage</a>(<span class="keywordtype">int</span> measured, <span class="keywordtype">int</span> target);</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a407d50cd057a86d1a1b5d172db07ca6b">   78</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a407d50cd057a86d1a1b5d172db07ca6b">setDuty</a>(<span class="keywordtype">int</span> measured, <span class="keywordtype">int</span> target);</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a98d347dcd251e970105e590c73f58abc">   79</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a98d347dcd251e970105e590c73f58abc">dischargeHighVoltages</a>(<span class="keywordtype">int</span> bank);</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a5627279d57f7a1e77567b2f3f3a218e3">   80</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a5627279d57f7a1e77567b2f3f3a218e3">chargeOff</a>();</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a2b374632b8cd9fbbdf258db70f949669">   81</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a2b374632b8cd9fbbdf258db70f949669">doMeasurement</a>();</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno"><a class="line" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a7980c9d69d0ca180f49ec87f7010af9b">   82</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a7980c9d69d0ca180f49ec87f7010af9b">measureValues</a>();</div>
<div class="ttc" id="a_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h_html_a2b374632b8cd9fbbdf258db70f949669"><div class="ttname"><a href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a2b374632b8cd9fbbdf258db70f949669">doMeasurement</a></div><div class="ttdeci">void doMeasurement()</div></div>
<div class="ttc" id="a_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h_html_a35b4fa796f530157f7c3615a347844c4"><div class="ttname"><a href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a35b4fa796f530157f7c3615a347844c4">getCommand</a></div><div class="ttdeci">void getCommand(int index)</div></div>
<div class="ttc" id="a_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h_html_a3e2b845b397b12d6d11191ffda1b25eb"><div class="ttname"><a href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a3e2b845b397b12d6d11191ffda1b25eb">requestFromSlave</a></div><div class="ttdeci">void requestFromSlave()</div></div>
<div class="ttc" id="a_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h_html_a407d50cd057a86d1a1b5d172db07ca6b"><div class="ttname"><a href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a407d50cd057a86d1a1b5d172db07ca6b">setDuty</a></div><div class="ttdeci">int setDuty(int measured, int target)</div></div>
<div class="ttc" id="a_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h_html_a4722f22644864b07751f6e89c733b980"><div class="ttname"><a href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a4722f22644864b07751f6e89c733b980">chargeHighVoltages</a></div><div class="ttdeci">int chargeHighVoltages()</div></div>
<div class="ttc" id="a_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h_html_a5627279d57f7a1e77567b2f3f3a218e3"><div class="ttname"><a href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a5627279d57f7a1e77567b2f3f3a218e3">chargeOff</a></div><div class="ttdeci">void chargeOff()</div></div>
<div class="ttc" id="a_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h_html_a6840cbef866f53f2338917342093a6e3"><div class="ttname"><a href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a6840cbef866f53f2338917342093a6e3">setHeaterVolts</a></div><div class="ttdeci">void setHeaterVolts()</div></div>
<div class="ttc" id="a_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h_html_a6d40a4086c06d9eca9705c248b5f1c36"><div class="ttname"><a href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a6d40a4086c06d9eca9705c248b5f1c36">modeCommand</a></div><div class="ttdeci">void modeCommand(int index)</div></div>
<div class="ttc" id="a_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h_html_a6fe19a81427930029deacf7ddbbca1f5"><div class="ttname"><a href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a6fe19a81427930029deacf7ddbbca1f5">setGridVolts</a></div><div class="ttdeci">void setGridVolts()</div></div>
<div class="ttc" id="a_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h_html_a7980c9d69d0ca180f49ec87f7010af9b"><div class="ttname"><a href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a7980c9d69d0ca180f49ec87f7010af9b">measureValues</a></div><div class="ttdeci">void measureValues()</div></div>
<div class="ttc" id="a_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h_html_a830c9acba92f5c46874aa86fdfaa693a"><div class="ttname"><a href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a830c9acba92f5c46874aa86fdfaa693a">masterReceiveData</a></div><div class="ttdeci">void masterReceiveData(int howMany)</div></div>
<div class="ttc" id="a_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h_html_a83fa9710c9b156b8df28abb74fb30f9c"><div class="ttname"><a href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a83fa9710c9b156b8df28abb74fb30f9c">runTest</a></div><div class="ttdeci">int runTest()</div></div>
<div class="ttc" id="a_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h_html_a98d347dcd251e970105e590c73f58abc"><div class="ttname"><a href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#a98d347dcd251e970105e590c73f58abc">dischargeHighVoltages</a></div><div class="ttdeci">void dischargeHighVoltages(int bank)</div></div>
<div class="ttc" id="a_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h_html_aa29031f30c4afb3356ae9d3eec2e7599"><div class="ttname"><a href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#aa29031f30c4afb3356ae9d3eec2e7599">slaveAnswerRequest</a></div><div class="ttdeci">void slaveAnswerRequest()</div></div>
<div class="ttc" id="a_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h_html_aa9530acf7bd8b0a7be8b4f9cf3eff7ac"><div class="ttname"><a href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#aa9530acf7bd8b0a7be8b4f9cf3eff7ac">setCommand</a></div><div class="ttdeci">void setCommand(int index, int intParam)</div></div>
<div class="ttc" id="a_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h_html_aae174dce18f58c1973c974c927e63e6b"><div class="ttname"><a href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#aae174dce18f58c1973c974c927e63e6b">flushSerialBuffer</a></div><div class="ttdeci">void flushSerialBuffer()</div></div>
<div class="ttc" id="a_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h_html_abb34940407bc3c50af25349bbbbe8904"><div class="ttname"><a href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#abb34940407bc3c50af25349bbbbe8904">commandError</a></div><div class="ttdeci">void commandError(const char *command)</div></div>
<div class="ttc" id="a_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h_html_abe029e9eb34170940f3d941843ba5258"><div class="ttname"><a href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#abe029e9eb34170940f3d941843ba5258">checkAnodeVoltage</a></div><div class="ttdeci">bool checkAnodeVoltage(int measured, int target)</div></div>
<div class="ttc" id="a_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h_html_ad0562255ef7ded5d69ec86dff27566a8"><div class="ttname"><a href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#ad0562255ef7ded5d69ec86dff27566a8">slaveReceiveData</a></div><div class="ttdeci">void slaveReceiveData(int howMany)</div></div>
<div class="ttc" id="a_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h_html_ad53375aecf0288795d5e2d9e8aebeea8"><div class="ttname"><a href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#ad53375aecf0288795d5e2d9e8aebeea8">sendToSlave</a></div><div class="ttdeci">void sendToSlave()</div></div>
<div class="ttc" id="a_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h_html_ad79f625cfb01f96a36c2b7842f4b1b94"><div class="ttname"><a href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#ad79f625cfb01f96a36c2b7842f4b1b94">infoCommand</a></div><div class="ttdeci">void infoCommand(int index)</div></div>
<div class="ttc" id="a_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h_html_af95922b1680b16545332b598504b40bf"><div class="ttname"><a href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html#af95922b1680b16545332b598504b40bf">printValues</a></div><div class="ttdeci">void printValues()</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_a44a740e080d9b86da02489a7532b9af.html">Arduino Mega</a></li><li class="navelem"><a class="el" href="dir_e613bebfb289f893949fd1f28daa6982.html">AnalyserValve</a></li><li class="navelem"><a class="el" href="_arduino_01_mega_2_analyser_valve_2_analyser_valve_8h.html">AnalyserValve.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
